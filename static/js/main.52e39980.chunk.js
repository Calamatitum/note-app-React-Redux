(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){},172:function(e,t,a){e.exports=a(366)},309:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),s=a.n(i),o=a(167),l=(a(177),a(19)),c=a(20),u=a(24),h=a(21),d=a(25),p=(a(48),a(73)),m=a(369),f=a(367),g=a(12),E=a(371),v=(a(309),a(156)),x=a.n(v),b=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(p.a,{type:"link",onClick:function(){return e.props.store.dispatch({type:"DELETE_NOTE",id:e.props.id})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement("br",null),r.a.createElement(p.a,{type:"link",onClick:function(){return e.props.store.dispatch({type:"EDIT_NOTE",id:e.props.id})}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"));return r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement(m.a,{title:this.props.header,style:{wordWrap:"break-word"},extra:r.a.createElement(f.a,{content:t,placement:"bottom"},r.a.createElement(g.a,{type:"more",style:{fontSize:"2em"},rotate:"90",className:"moreIcon"}))},r.a.createElement("p",null,this.props.message),this.props.tag.map(function(e){return r.a.createElement(E.a,{color:"red"},e)}),r.a.createElement("span",{className:"date"},x()(this.props.date).format("LTS"))))}}]),t}(n.Component),O=a(30),y=a(370),C=a(168),I=(a(154),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleClose=function(e){var t=a.state.tags.filter(function(t){return t!==e});console.log(t),a.setState({tags:t})},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(O.a)(t),[e])),console.log(t),a.setState({tags:t,inputVisible:!1,inputValue:""})},a.state={header:"",noteText:"",tags:[],inputVisible:!1,inputValue:"",headerIsInvalid:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClickSubmit",value:function(){this.state.header.replace(/\s/g,"")?(this.props.store.dispatch({type:"ADD_NOTE",note:{header:this.state.header,noteText:this.state.noteText,tags:this.state.tags,id:this.uuidv4(),date:new Date}}),this.setState({header:"",noteText:"",tags:[],headerIsInvalid:!1})):this.setState({headerIsInvalid:!0})}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},{key:"render",value:function(){var e=this,t=y.a.TextArea,a=this.state,n=a.tags,i=a.inputVisible,s=a.inputValue;return r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement(y.a,{onChange:function(t){return e.setState({header:t.target.value})},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",allowClear:!0,style:{margin:"5px 0"},className:this.state.headerIsInvalid&&"inputHeaderIsInvalid",value:this.state.header,name:"header"}),r.a.createElement(t,{rows:4,onChange:function(t){return e.setState({noteText:t.target.value})},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",className:"noteFormElement",value:this.state.noteText,name:"noteText"}),r.a.createElement("div",{className:"noteFormElement"},n.map(function(t,a){var n=t.length>20,i=r.a.createElement(E.a,{key:t,closable:0!==a,onClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?r.a.createElement(C.a,{title:t,key:t},i):i}),i&&r.a.createElement(y.a,{ref:function(t){return e.input=t},type:"text",size:"small",style:{width:78},value:s,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!i&&r.a.createElement(E.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(g.a,{type:"plus"})," \u041d\u043e\u0432\u044b\u0439 \u0442\u044d\u0433")),r.a.createElement(p.a,{type:"primary",size:"large",className:"noteFormElement",onClick:this.onClickSubmit.bind(this)},"\u0413\u043e\u0442\u043e\u0432\u043e"))}}]),t}(n.Component)),T=a(368),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={searchValue:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({searchValue:e.target.value}),this.props.store.dispatch({type:"SEARCH",str:e.target.value})}},{key:"render",value:function(){var e=y.a.Search;return r.a.createElement("div",null,r.a.createElement(e,{placeholder:"\u041f\u043e\u0438\u0441\u043a",value:this.state.searchValue,size:"large",onChange:this.handleChange.bind(this),style:{width:"40%",float:"right",marginBottom:"10px",marginTop:"10px"}}),r.a.createElement(T.a,null))}}]),t}(n.Component),S=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleClose=function(e){var t=a.state.tags.filter(function(t){return t!==e});console.log(t),a.setState({tags:t})},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(O.a)(t),[e])),console.log(t),a.setState({tags:t,inputVisible:!1,inputValue:""})};var n=a.props.store.getState();return a.state={header:n.editingNote.header,noteText:n.editingNote.noteText,tags:n.editingNote.tags,id:n.editingNote.id,inputVisible:!1,inputValue:"",editing:!0,headerIsInvalid:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleEdit",value:function(){this.state.header.replace(/\s/g,"")?(this.props.store.dispatch({type:"ADD_EDITED_NOTE",note:{header:this.state.header,noteText:this.state.noteText,tags:this.state.tags,id:this.state.id,date:new Date}}),this.setState({header:"",noteText:"",tags:[]})):this.setState({headerIsInvalid:!0})}},{key:"render",value:function(){var e=this,t=y.a.TextArea,a=this.state,n=a.tags,i=a.inputVisible,s=a.inputValue;return r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement(y.a,{onChange:function(t){return e.setState({header:t.target.value})},allowClear:!0,style:{margin:"5px 0"},className:this.state.headerIsInvalid&&"inputHeaderIsInvalid",value:this.state.header,name:"header"}),r.a.createElement(t,{rows:4,onChange:function(t){return e.setState({noteText:t.target.value})},className:"noteFormElement",value:this.state.noteText,name:"noteText"}),r.a.createElement("div",{className:"noteFormElement"},n.map(function(t,a){var n=t.length>20,i=r.a.createElement(E.a,{key:t,closable:0!==a,onClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?r.a.createElement(C.a,{title:t,key:t},i):i}),i&&r.a.createElement(y.a,{ref:function(t){return e.input=t},type:"text",size:"small",style:{width:78},value:s,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!i&&r.a.createElement(E.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(g.a,{type:"plus"})," \u041d\u043e\u0432\u044b\u0439 \u0442\u044d\u0433")),r.a.createElement(p.a,{type:"primary",size:"large",className:"noteFormElement",onClick:this.handleEdit.bind(this)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"))}}]),t}(n.Component),k=a(44),N=a(17),w=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){return e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e,t=this,a=this.props.store.getState();return e=a.searching?a.filteredData:a.notes,r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(N.a,{span:8,offset:8},r.a.createElement(j,{store:this.props.store}),a.editing?r.a.createElement(S,{store:this.props.store}):r.a.createElement(I,{store:this.props.store}),r.a.createElement(k.a,{type:"flex",justify:"space-between"},e.length<1?r.a.createElement("h3",null,"\u041d\u0435\u0442 \u0437\u0430\u043c\u0435\u0442\u043e\u043a"):e.map(function(e){return r.a.createElement(N.a,{span:11},r.a.createElement(b,{header:e.header,message:e.noteText,tag:e.tags,id:e.id,key:e.id,date:e.date,store:t.props.store}))})))))}}]),t}(n.Component),D=a(45);function V(e,t){if(e){var a=e.find(function(e){return e.id===t});if(void 0===a)return e;var n=Object(O.a)(e),r=n.indexOf(a);return n.splice(r,1),n}}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notes:[],editing:!1,editingNote:null,searching:!1,filteredData:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(D.a)({},e,{notes:[t.note].concat(Object(O.a)(e.notes))});case"DELETE_NOTE":return Object(D.a)({},e,{notes:V(e.notes,t.id)});case"EDIT_NOTE":return Object(D.a)({},e,{editing:!0,editingNote:e.notes.find(function(e){return e.id===t.id})});case"ADD_EDITED_NOTE":return Object(D.a)({},e,{notes:[t.note].concat(Object(O.a)(V(e.notes,t.note.id))),editing:!1});case"SEARCH":return Object(D.a)({},e,{searching:!!t.str,filteredData:(a=e.notes,n=t.str,n?a.filter(function(e){return e.header.indexOf(n)>=0||e.noteText.indexOf(n)>=0||e.tags.filter(function(e){return e.indexOf(n)>=0}).length>0}):a)});default:return e}var a,n},A=Object(o.a)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(r.a.createElement(w,{store:A}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.52e39980.chunk.js.map